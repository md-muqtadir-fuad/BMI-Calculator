<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BADHAN BMI Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <!-- LOGO START -->
    <div style="display: flex; justify-content: center; margin-bottom: 1rem;">
      <img src="logo_badhan.png" alt="Badhan BUET zone logo" style="height:48px; border-radius: 8px;">
    </div>
    <!-- LOGO END -->
    
    <h2>BMI Calculator</h2>
    <div class="units-switch">
      <label>
        <input type="radio" name="units" value="metric" checked>
        Metric (kg, cm)
      </label>
      <label>
        <input type="radio" name="units" value="imperial">
        Imperial (lb, in)
      </label>
    </div>
    <form id="bmiForm" autocomplete="off">
      <label for="weight" id="labelWeight">Weight (kg):</label>
      <input type="number" id="weight" min="1" step="any" required>

      <label for="height" id="labelHeight">Height (cm):</label>
      <input type="number" id="height" min="1" step="any" required>

      <button type="submit">Calculate BMI</button>
    </form>
    <div class="result" id="result"></div>

    <table class="bmi-table">
      <tr>
        <th>Category</th>
        <th>BMI Range (kg/m²)</th>
      </tr>
      <tr>
        <td class="underweight">Underweight</td>
        <td class="underweight">&lt; 18.5</td>
      </tr>
      <tr>
        <td class="normal">Normal weight</td>
        <td class="normal">18.5 – 24.9</td>
      </tr>
      <tr>
        <td class="overweight">Overweight</td>
        <td class="overweight">25 – 29.9</td>
      </tr>
      <tr>
        <td class="obese">Obese</td>
        <td class="obese">&ge; 30</td>
      </tr>
    </table>
  </div>

  <script>
    // Update form labels on unit switch
    const unitsRadios = document.getElementsByName('units');
    const labelWeight = document.getElementById('labelWeight');
    const labelHeight = document.getElementById('labelHeight');
    const weightInput = document.getElementById('weight');
    const heightInput = document.getElementById('height');

    function setLabels(unit) {
      if (unit === 'metric') {
        labelWeight.textContent = 'Weight (kg):';
        labelHeight.textContent = 'Height (cm):';
        weightInput.placeholder = 'e.g. 68';
        heightInput.placeholder = 'e.g. 175';
        weightInput.min = '1';
        heightInput.min = '1';
      } else {
        labelWeight.textContent = 'Weight (lb):';
        labelHeight.textContent = 'Height (in):';
        weightInput.placeholder = 'e.g. 150';
        heightInput.placeholder = 'e.g. 70';
        weightInput.min = '1';
        heightInput.min = '1';
      }
    }

    unitsRadios.forEach(radio => {
      radio.addEventListener('change', () => {
        setLabels(radio.value);
        // Clear inputs/results when unit changes
        weightInput.value = '';
        heightInput.value = '';
        document.getElementById('result').textContent = '';
        document.getElementById('result').style.background = '';
      });
    });

    // Initial label setup
    setLabels('metric');

    // BMI calculation logic
    document.getElementById('bmiForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const unit = document.querySelector('input[name="units"]:checked').value;
      const weight = parseFloat(weightInput.value);
      const height = parseFloat(heightInput.value);

      // Validate
      if (!weight || !height || weight <= 0 || height <= 0) {
        showResult("Please enter valid positive numbers.", "");
        return;
      }

      let bmi = 0;
      if (unit === 'metric') {
        // Height in meters
        bmi = weight / Math.pow(height / 100, 2);
      } else {
        // BMI = 703 * lbs / inches^2
        bmi = 703 * (weight / (height * height));
      }

      // Determine status and advice
      let status = '', color = '', advice = '';
      if (bmi < 18.5) {
        status = 'Underweight';
        color = 'var(--underweight)';
        advice = 'You are underweight. Consider consulting with a healthcare professional for nutritional guidance.';
      } else if (bmi < 24.9) {
        status = 'Normal weight';
        color = 'var(--normal)';
        advice = 'You are at a healthy weight! Maintain your current lifestyle for continued health.';
      } else if (bmi < 29.9) {
        status = 'Overweight';
        color = 'var(--overweight)';
        advice = 'You are overweight. Consider a balanced diet and regular exercise to improve your health.';
      } else {
        status = 'Obese';
        color = 'var(--obese)';
        advice = 'You are in the obese range. It is recommended to seek advice from a healthcare professional.';
      }

      showResult(`
        <strong>BMI:</strong> ${bmi.toFixed(1)}<br>
        <strong>Status:</strong> ${status}<br>
        <span style="font-size:0.97em;display:block;margin-top:0.6em;"><em>${advice}</em></span>
      `, color);
    });

    function showResult(html, bg) {
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = html;
      resultDiv.style.background = bg;
    }
  </script>
</body>
</html>
